  <div id="preloader">
    <h2>
      <span class="welcome no-opacity">Καλωσήλθες <br>
      <span class="to-waterpolis no-opacity">στη Νερούπολη!</span>
    </h2>
  <svg xmlns="http://www.w3.org/2000/svg" width="168" height="64">
    <path fill="#00B9F2" d="M4.91 27.806c-.457 0-.828-.375-.828-.828V7.97c0-.454-.38-.83-.835-.83H.834C.374 7.14 0 6.769 0 6.315V1.3C0 .843.374.471.834.471h14.112c.455 0 .827.372.827.829v5.016c0 .453-.372.825-.827.825h-2.602c-.456 0-.833.376-.833.83v19.008c0 .454-.372.828-.828.828H4.91zM26.234 0c7.538 0 10.488 7.466 10.488 14.137 0 6.672-2.95 14.139-10.488 14.139-7.547 0-10.499-7.467-10.499-14.139C15.736 7.466 18.687 0 26.234 0zm0 21.388c2.803 0 2.912-5.549 2.912-7.25 0-1.7-.109-7.249-2.912-7.249-2.811 0-2.918 5.549-2.918 7.249 0 1.7.108 7.25 2.918 7.25zM46.921 1.3c0-.457.381-.829.834-.829h5.403c.458 0 .961.349 1.113.777l5.375 14.903c.158.425.297.764.323.743.016-.021-.019-.405-.078-.858 0 0-.727-5.416-.727-8.606V1.3c0-.457.373-.829.832-.829h5.477c.456 0 .832.372.832.829v25.678c0 .454-.376.828-.832.828h-5.477c-.458 0-.958-.353-1.11-.783l-4.984-14.204c-.154-.431-.294-.765-.314-.749-.021.023 0 .409.046.86 0 0 .43 4.254.43 6.863v7.185c0 .454-.375.828-.834.828h-5.475c-.454 0-.834-.375-.834-.828V1.3zm21.569 0c0-.457.372-.829.831-.829h12.144c.46 0 .832.372.832.829v4.797c0 .456-.372.828-.832.828h-4.711c-.455 0-.832.371-.832.829v2.149c0 .458.376.826.832.826h4.055c.457 0 .835.375.835.831v4.797c0 .454-.379.829-.835.829h-4.055c-.455 0-.832.369-.832.828v2.511c0 .458.376.825.832.825h4.711c.46 0 .832.376.832.83v4.799c0 .454-.372.828-.832.828H69.321c-.459 0-.831-.375-.831-.828V1.3zm16.338 26.506c-.458 0-.828-.375-.828-.828V1.3c0-.457.37-.829.828-.829h5.113c.46 0 4.857.131 6.539.72 1.684.587 5.771 1.383 5.771 8.561 0 7.104-4.376 9.281-10.816 9.097v8.129c0 .454-.38.828-.838.828h-5.769zm7.146-21.463c-.302.02-.54.411-.54.865v4.65c0 .453.353.717.791.583 0 0 2.522-.769 2.522-2.803.001-1.735-.951-3.404-2.773-3.295zM13.389 45.898l1.054 1.888c.219.398.25 1.063.07 1.483l-2.33 5.366c-.397.873-.545 1.45-.945 2.284 1.346-.111 3.324-.111 3.324-.111h4.223c.462 0 .832.376.832.83v4.799c0 .453-.37.828-.832.828H1.54c-.455 0-.687-.343-.512-.768l5.521-13.223c.175-.421.162-1.103-.028-1.518l-5.1-11.072c-.193-.421.027-.756.483-.756h16.52c.456 0 .831.373.831.827v4.799c0 .455-.375.83-.831.83h-4.781c-.765 0-1.494-.038-2.222-.075.762 1.272 1.345 2.466 1.968 3.589zM24.93 63.265c-.459 0-.836-.375-.836-.828V43.429c0-.457-.37-.829-.828-.829h-2.417c-.458 0-.832-.372-.832-.827v-5.017c0-.454.374-.827.832-.827H34.96c.455 0 .833.373.833.827v5.017c0 .455-.377.827-.833.827h-2.599c-.458 0-.831.372-.831.829v19.008c0 .453-.377.828-.832.828H24.93zm23.459 0c-.458 0-.829-.375-.829-.828v-9.435c0-.46-.372-.832-.833-.832H44.86c-.46 0-.837.372-.837.832v9.435c0 .453-.373.828-.83.828h-5.771c-.454 0-.83-.375-.83-.828V36.756c0-.454.376-.827.83-.827h5.771c.457 0 .83.373.83.827v8.135c0 .454.377.825.837.825h1.867c.46 0 .833-.371.833-.825v-8.135c0-.454.371-.827.829-.827h5.767c.46 0 .833.373.833.827v25.681c0 .453-.372.828-.833.828h-5.767zm8.824-26.509c0-.454.373-.827.832-.827h5.401c.457 0 .959.349 1.116.779l5.377 14.9c.151.426.299.766.316.742.022-.021-.012-.403-.073-.856 0 0-.729-5.416-.729-8.606v-6.132c0-.454.376-.827.833-.827h5.479c.454 0 .83.373.83.827v25.681c0 .453-.376.828-.83.828h-5.479c-.458 0-.956-.352-1.107-.784l-4.991-14.204c-.15-.431-.29-.766-.31-.748-.018.024 0 .409.051.86 0 0 .421 4.254.421 6.863v7.185c0 .453-.371.828-.83.828h-5.476c-.458 0-.832-.375-.832-.828V36.756zm42.151 26.612c-.456 0-.83-.373-.83-.826v-19.31c0-.452-.374-.825-.83-.825h-1.887c-.456 0-.83.373-.83.825v19.31c0 .453-.373.826-.828.826h-5.804c-.456 0-.828-.373-.828-.826V36.754c0-.453.372-.825.828-.825h16.811c.453 0 .829.372.829.825v25.787c0 .453-.376.826-.829.826h-5.802zm43.129-.103c-.457 0-.891-.368-.962-.82l-.293-1.878c-.065-.454-.172-1.19-.23-1.638l-1.461-11.325c-.259-1.706-.56-4.328-.56-4.328-.055-.449-.13-.82-.169-.82-.259 1.707-.646 4.326-.646 4.326-.063.453-.178 1.188-.247 1.64L136.25 58.93c-.073.45-.194 1.184-.271 1.634l-.331 1.886c-.08.448-.522.816-.98.816h-5.987c-.457 0-.739-.363-.637-.805l6.208-25.728c.106-.442.572-.804 1.028-.804h7.407c.459 0 .905.363 1.003.809l5.486 25.719c.097.443-.204.809-.659.809h-6.024zm24.674-27.336h-5.773c-.455 0-.832.373-.832.827v8.135c0 .454-.37.825-.827.825h-1.87c-.456 0-.836-.371-.836-.825v-8.135c0-.454-.372-.827-.827-.827h-5.771c-.456 0-.832.373-.832.827v25.681c0 .453.376.828.832.828h5.771c.455 0 .827-.375.827-.828v-9.435c0-.46.38-.832.836-.832h1.87c.457 0 .827.372.827.832v9.435c0 .453.377.828.832.828h5.773c.458 0 .832-.375.832-.828V36.756c.001-.454-.374-.827-.832-.827zm-14.46 20.666c0 .101-.082.182-.185.182h-1.114c-.1 0-.181-.081-.181-.182v-2.058c0-.101.081-.181.181-.181h1.114c.103 0 .185.08.185.181v2.058zm0-3.692c0 .102-.082.182-.185.182h-1.114c-.1 0-.181-.08-.181-.182v-2.058c0-.101.081-.181.181-.181h1.114c.103 0 .185.08.185.181v2.058zm0-3.692c0 .099-.082.182-.185.182h-1.114c-.1 0-.181-.083-.181-.182v-2.059c0-.101.081-.183.181-.183h1.114c.103 0 .185.082.185.183v2.059zm0-3.693c0 .101-.082.182-.185.182h-1.114c-.1 0-.181-.081-.181-.182v-2.059c0-.098.081-.181.181-.181h1.114c.103 0 .185.083.185.181v2.059zm0-3.693c0 .101-.082.182-.185.182h-1.114c-.1 0-.181-.081-.181-.182v-2.057c0-.101.081-.182.181-.182h1.114c.103 0 .185.081.185.182v2.057zm2.694 18.463c0 .101-.082.183-.183.183h-1.112c-.103 0-.185-.082-.185-.183V58.23c0-.1.082-.181.185-.181h1.112c.101 0 .183.081.183.181v2.058zm0-3.693c0 .101-.082.182-.183.182h-1.112c-.103 0-.185-.081-.185-.182v-2.058c0-.101.082-.181.185-.181h1.112c.101 0 .183.08.183.181v2.058zm0-3.692c0 .102-.082.182-.183.182h-1.112c-.103 0-.185-.08-.185-.182v-2.058c0-.101.082-.181.185-.181h1.112c.101 0 .183.08.183.181v2.058zm0-7.385c0 .101-.082.182-.183.182h-1.112c-.103 0-.185-.081-.185-.182v-2.059c0-.098.082-.181.185-.181h1.112c.101 0 .183.083.183.181v2.059zm0-3.693c0 .101-.082.182-.183.182h-1.112c-.103 0-.185-.081-.185-.182v-2.057c0-.101.082-.182.185-.182h1.112c.101 0 .183.081.183.182v2.057zM112.743 0c-7.543 0-10.496 7.466-10.496 14.137 0 6.672 2.953 14.139 10.496 14.139 7.536 0 10.489-7.467 10.489-14.139C123.232 7.466 120.279 0 112.743 0zm.088 21.029c-1.995 0-3.615-1.754-3.615-5.086 0-3.331 2.814-10.182 3.615-10.182s3.616 6.851 3.616 10.182c0 3.332-1.62 5.086-3.616 5.086zm5.039 14.429c7.617 0 10.595 7.537 10.595 14.272 0 6.732-2.978 14.27-10.595 14.27-7.61 0-10.592-7.537-10.592-14.27 0-6.734 2.981-14.272 10.592-14.272zm0 21.588c2.836 0 2.943-5.599 2.943-7.315 0-1.722-.107-7.32-2.943-7.32-2.83 0-2.939 5.599-2.939 7.32-.001 1.717.109 7.315 2.939 7.315z"/>
  </svg>
    <canvas id="c"></canvas>
    <script type="text/javascript">
      var c = document.getElementById('c'),
        ctx = c.getContext('2d'),
        cw = c.width = window.innerWidth,
        ch = c.height = window.innerHeight,
        points = [],
        tick = 0,
        opt = {
          count: 5,
          range: {
            x: 20,
            y: 80
          },
          duration: {
            min: 20,
            max: 40
          },
          thickness: 10,
          strokeColor: '#fff',
          level: .35,
          curved: true
        },
        rand = function(min, max){
          return Math.floor( (Math.random() * (max - min + 1) ) + min);
        },
        ease = function (t, b, c, d) {
          if ((t/=d/2) < 1) return c/2*t*t + b;
          return -c/2 * ((--t)*(t-2) - 1) + b;
        };

      ctx.lineJoin = 'round';
      ctx.lineWidth = opt.thickness;
      ctx.strokeStyle = opt.strokeColor;

      var Point = function(config){
        this.anchorX = config.x;
        this.anchorY = config.y;
        this.x = config.x;
        this.y = config.y;
        this.setTarget();  
      };

      Point.prototype.setTarget = function(){
        this.initialX = this.x;
        this.initialY = this.y;
        this.targetX = this.anchorX + rand(0, opt.range.x * 2) - opt.range.x;
        this.targetY = this.anchorY + rand(0, opt.range.y * 2) - opt.range.y;
        this.tick = 0;
        this.duration = rand(opt.duration.min, opt.duration.max);
      };

      Point.prototype.update = function(){
        var dx = this.targetX - this.x;
        var dy = this.targetY - this.y;
        var dist = Math.sqrt(dx * dx + dy * dy);

        if(Math.abs(dist) <= 0){
          this.setTarget();
        } else {       
          var t = this.tick;
          var b = this.initialY;
          var c = this.targetY - this.initialY;
          var d = this.duration;
          this.y = ease(t, b, c, d);

          b = this.initialX;
          c = this.targetX - this.initialX;
          d = this.duration;
          this.x = ease(t, b, c, d);

          this.tick++;
        }
      };

      Point.prototype.render = function(){
        ctx.beginPath();
        ctx.arc(this.x, this.y, 3, 0, Math.PI * 2, false);
        ctx.fillStyle = '#000';
        ctx.fill();
      };

      var updatePoints = function(){
        var i = points.length;
        while(i--){
        points[i].update();
        }
      };

      var renderPoints = function(){
        var i = points.length;
        while(i--){
        points[i].render();
        }
      };

      var renderShape = function(){
        ctx.beginPath();
        var pointCount = points.length;
        ctx.moveTo(points[0].x, points[0].y);   
        var i;
        for (i = 0; i < pointCount - 1; i++) {
          var c = (points[i].x + points[i + 1].x) / 2;
          var d = (points[i].y + points[i + 1].y) / 2;
          ctx.quadraticCurveTo(points[i].x, points[i].y, c, d);
        }
        ctx.lineTo(-opt.range.x - opt.thickness, ch + opt.thickness);
        ctx.lineTo(cw + opt.range.x + opt.thickness, ch + opt.thickness);
        ctx.closePath();   
        //ctx.fillStyle = 'hsl('+(tick/2)+', 80%, 60%)';
        ctx.fillStyle = 'rgb(0,185,242)';
        ctx.fill();  
        ctx.stroke();
      };

      var clear = function(){
        ctx.clearRect(0, 0, cw, ch);
      };

      var loop = function(){
        window.requestAnimFrame(loop, c);
        tick++;
        clear();
        updatePoints();
        renderShape();
        //renderPoints();
      };

      var i = opt.count + 2;
      var spacing = (cw + (opt.range.x * 2)) / (opt.count-1);
      while(i--){
        points.push(new Point({
        x: (spacing * (i - 1)) - opt.range.x,
        y: ch - (ch * opt.level)
        }));
      }

      window.requestAnimFrame=function(){return window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(a){window.setTimeout(a,1E3/60)}}();
      loop();
    </script>
    <noscript>
         <div class="donut">
          <svg width="240" height="240" xmlns="http://www.w3.org/2000/svg" class="donut__svg">
            <circle id="donut-graph-x" class="donut__svg__scrim" r="90" cy="120" cx="120" stroke-width="3" stroke="#fff" fill="none"/>
            <circle id="donut-graph" class="donut__svg__circle--one" r="90" cy="120" cx="120" stroke-width="4" stroke="url(#purple)" stroke-linejoin="round" stroke-linecap="round" fill="none"/>
            <defs>
              <linearGradient id="purple" x1="0%" y1="0%" x2="100%" y2="0%">
                <stop offset="0%"   stop-color="#00B9F2"/>
                <stop offset="100%" stop-color="#00B9F2"/>
              </linearGradient>
            </defs>
          </svg>
        </div>
      </div> 
    </noscript>
  </div>
  <div id="app">
    <h1 class="logo floating-element top left visually-hidden">
    <span class="visually-hidden">To Νερό στην πόλη</span>
    <i class="icon logo"></i>
    </h1>
    <button class="points-nav floating-element floating-element--button top right visually-hidden" id="nav-icon">
      <span class="visually-hidden">Λίστα σημείων στον χάρτη</span>
      <span></span>
      <span></span>
      <span></span>
      <span></span>
    </button>
    <button class="info floating-element floating-element--button bottom left visually-hidden" id="info-icon">
      <i class="icon info"></i>
      <span class="visually-hidden">Πληροφορίες για τη νερούπολη</span>
    </button>
    <div class="map-controls floating-element bottom right visually-hidden">
      <button id="zoom-in" class="floating-element--button">
        <i class="icon zoom-in"></i>
        <span class="visually-hidden">Zoom in</span>
      </button>
      <button id="zoom-out" class="floating-element--button">
        <i class="icon zoom-out"></i>
        <span class="visually-hidden">Zoom out</span>
      </button>
      <button id="reset" class="floating-element--button">
        <i class="icon reset"></i>
        <span class="visually-hidden">Reset</span>
      </button>
    </div>
    <!-- panzoom -->
    <div id="container">
    </div>
    <div class="overlay ctrlZoom"></div>
  </div>